<ion-header>
  <ion-toolbar>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="formularioRegistro" (ngSubmit)="registrar()">
    
    <ion-item>
      <ion-label position="floating">Nombre</ion-label>
      <ion-input type="text" formControlName="nombre"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('nombre')?.hasError('required') && formularioRegistro.get('nombre')?.touched">
      El nombre es obligatorio.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Apellido</ion-label>
      <ion-input type="text" formControlName="apellido"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('apellido')?.hasError('required') && formularioRegistro.get('apellido')?.touched">
      El apellido es obligatorio.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Edad</ion-label>
      <ion-input type="number" formControlName="edad"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('edad')?.hasError('required') && formularioRegistro.get('edad')?.touched">
      La edad es obligatoria.
    </ion-note>
    <ion-note color="danger" *ngIf="formularioRegistro.get('edad')?.hasError('min') && formularioRegistro.get('edad')?.touched">
      La edad debe ser mayor a 0.
    </ion-note>

    <ion-item>
      <ion-label position="floating">RUT</ion-label>
      <ion-input type="text" formControlName="rut"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('rut')?.hasError('required') && formularioRegistro.get('rut')?.touched">
      El RUT es obligatorio.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Fecha de Nacimiento</ion-label>
      <ion-input type="text" formControlName="fechaNacimiento" placeholder="dd/mm/yyyy"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('fechaNacimiento')?.hasError('required') && formularioRegistro.get('fechaNacimiento')?.touched">
      La fecha de nacimiento es obligatoria.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Correo</ion-label>
      <ion-input type="email" formControlName="correo"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('correo')?.hasError('required') && formularioRegistro.get('correo')?.touched">
      El correo es obligatorio.
    </ion-note>
    <ion-note color="danger" *ngIf="formularioRegistro.get('correo')?.hasError('email') && formularioRegistro.get('correo')?.touched">
      El correo no es v√°lido.
    </ion-note>

    <ion-item>
      <ion-label position="floating">Nueva Clave</ion-label>
      <ion-input type="password" formControlName="nuevaClave"></ion-input>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('nuevaClave')?.hasError('required') && formularioRegistro.get('nuevaClave')?.touched">
      La clave es obligatoria.
    </ion-note>
    <ion-note color="danger" *ngIf="formularioRegistro.get('nuevaClave')?.hasError('minlength') && formularioRegistro.get('nuevaClave')?.touched">
      La clave debe tener al menos 6 caracteres.
    </ion-note>

    <ion-item>
      <ion-label>Rol</ion-label>
      <ion-select formControlName="rolSeleccionado">
        <ion-select-option value="alumno">Alumno</ion-select-option>
        <ion-select-option value="docente">Docente</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-note color="danger" *ngIf="formularioRegistro.get('rolSeleccionado')?.hasError('required') && formularioRegistro.get('rolSeleccionado')?.touched">
      Seleccione un rol.
    </ion-note>

    <ion-button expand="full" type="submit" [disabled]="formularioRegistro.invalid">Registrar</ion-button>
    
    <ion-button expand="full" (click)="retorno()">Retorno</ion-button>
  
  </form>
</ion-content>
